import{b as oe}from"./chunk-E5DRCL7G.js";import{Aa as J,Ca as X,K as Z,Kc as te,Lc as ne,Mc as re,P as H,Q as Y,Uc as ie,Y as Q,c as g,ca as h,f as q,fa as c,g as S,ga as a,ha as u,hb as ee,i as L,ia as W,ja as w,l as B,s as G,sa as j}from"./chunk-DCDCP4BO.js";import{a as m,b as K}from"./chunk-GAL4ENT6.js";var Te={};function we(e,t){if(e==null)throw new Error(`${t} must be defined.`)}var Ee="@ngrx/store/init",R=(()=>{let t=class t extends S{constructor(){super({type:Ee})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})(),xe=[R],ve=new c("@ngrx/store Internal Root Guard"),se=new c("@ngrx/store Internal Initial State"),U=new c("@ngrx/store Initial State"),ge=new c("@ngrx/store Reducer Factory"),ce=new c("@ngrx/store Internal Reducer Factory Provider"),Se=new c("@ngrx/store Initial Reducers"),x=new c("@ngrx/store Internal Initial Reducers");var ue=new c("@ngrx/store Internal Store Reducers");var Oe=new c("@ngrx/store Internal Store Features");var Ce=new c("@ngrx/store Feature Reducers"),ae=new c("@ngrx/store User Provided Meta Reducers"),F=new c("@ngrx/store Meta Reducers"),de=new c("@ngrx/store Internal Resolved Meta Reducers"),fe=new c("@ngrx/store User Runtime Checks Config"),le=new c("@ngrx/store Internal User Runtime Checks Config"),E=new c("@ngrx/store Internal Runtime Checks"),M=new c("@ngrx/store Check if Action types are unique"),O=new c("@ngrx/store Root Store Provider"),pe=new c("@ngrx/store Feature State Provider");function De(e,t={}){let i=Object.keys(e),n={};for(let o=0;o<i.length;o++){let s=i[o];typeof e[s]=="function"&&(n[s]=e[s])}let r=Object.keys(n);return function(s,y){s=s===void 0?t:s;let d=!1,f={};for(let l=0;l<r.length;l++){let p=r[l],T=n[p],$=s[p],V=T($,y);f[p]=V,d=d||V!==$}return d?f:s}}function ke(e,t){return Object.keys(e).filter(i=>i!==t).reduce((i,n)=>Object.assign(i,{[n]:e[n]}),{})}function je(...e){return function(t){if(e.length===0)return t;let i=e[e.length-1];return e.slice(0,-1).reduceRight((r,o)=>o(r),i(t))}}function Fe(e,t){return Array.isArray(t)&&t.length>0&&(e=je.apply(null,[...t,e])),(i,n)=>{let r=e(i);return(o,s)=>(o=o===void 0?n:o,r(o,s))}}function Ue(e){let t=Array.isArray(e)&&e.length>0?je(...e):i=>i;return(i,n)=>(i=t(i),(r,o)=>(r=r===void 0?n:r,i(r,o)))}var v=class extends g{},I=class extends R{},Me="@ngrx/store/update-reducers",b=(()=>{let t=class t extends S{get currentReducers(){return this.reducers}constructor(n,r,o,s){super(s(o,r)),this.dispatcher=n,this.initialState=r,this.reducers=o,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){let r=n.reduce((o,{reducers:s,reducerFactory:y,metaReducers:d,initialState:f,key:l})=>{let p=typeof s=="function"?Ue(d)(s,f):Fe(y,d)(s,f);return o[l]=p,o},{});this.addReducers(r)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(r=>r.key))}addReducer(n,r){this.addReducers({[n]:r})}addReducers(n){this.reducers=m(m({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(r=>{this.reducers=ke(this.reducers,r)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Me,features:n})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(r){return new(r||t)(a(I),a(U),a(Se),a(ge))},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})(),_e=[b,{provide:v,useExisting:b},{provide:I,useExisting:R}],_=(()=>{let t=class t extends q{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=X(t)))(o||t)}})(),t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})(),Ne=[_],A=class extends g{},ye=(()=>{let t=class t extends S{constructor(n,r,o,s){super(s);let d=n.pipe(B(L)).pipe(Q(r)),f={state:s},l=d.pipe(Y(Pe,f));this.stateSubscription=l.subscribe(({state:p,action:T})=>{this.next(p),o.next(T)}),this.state=oe(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=Ee,t.\u0275fac=function(r){return new(r||t)(a(R),a(v),a(_),a(U))},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})();function Pe(e={state:void 0},[t,i]){let{state:n}=e;return{state:i(n,t),action:t}}var ze=[ye,{provide:A,useExisting:ye}],N=(()=>{let t=class t extends g{constructor(n,r,o,s){super(),this.actionsObserver=r,this.reducerManager=o,this.injector=s,this.source=n,this.state=n.state}select(n,...r){return Ve.call(null,n,...r)(this)}selectSignal(n,r){return ne(()=>n(this.state()),r)}lift(n){let r=new t(this,this.actionsObserver,this.reducerManager);return r.operator=n,r}dispatch(n,r){if(typeof n=="function")return this.processDispatchFn(n,r);this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,r){this.reducerManager.addReducer(n,r)}removeReducer(n){this.reducerManager.removeReducer(n)}processDispatchFn(n,r){we(this.injector,"Store Injector");let o=r?.injector??Ke()??this.injector;return re(()=>{let s=n();te(()=>this.dispatch(s))},{injector:o})}};t.\u0275fac=function(r){return new(r||t)(a(A),a(R),a(b),a(j))},t.\u0275prov=h({token:t,factory:t.\u0275fac});let e=t;return e})(),$e=[N];function Ve(e,t,...i){return function(r){let o;if(typeof e=="string"){let s=[t,...i].filter(Boolean);o=r.pipe(H(e,...s))}else if(typeof e=="function")o=r.pipe(G(s=>e(s,t)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(Z())}}function Ke(){try{return u(j)}catch{return}}var P="https://ngrx.io/guide/store/configuration/runtime-checks";function he(e){return e===void 0}function Re(e){return e===null}function Ie(e){return Array.isArray(e)}function qe(e){return typeof e=="string"}function Le(e){return typeof e=="boolean"}function Be(e){return typeof e=="number"}function be(e){return typeof e=="object"&&e!==null}function Ge(e){return be(e)&&!Ie(e)}function Ze(e){if(!Ge(e))return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function C(e){return typeof e=="function"}function He(e){return C(e)&&e.hasOwnProperty("\u0275cmp")}function Ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Qe(e){return e instanceof c?u(e):e}function Ae(e){return typeof e=="function"?e():e}function We(e,t){return e.concat(t)}function Je(){if(u(N,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Xe(e,t){return function(i,n){let r=t.action(n)?D(n):n,o=e(i,r);return t.state()?D(o):o}}function D(e){Object.freeze(e);let t=C(e);return Object.getOwnPropertyNames(e).forEach(i=>{if(!i.startsWith("\u0275")&&Ye(e,i)&&(!t||i!=="caller"&&i!=="callee"&&i!=="arguments")){let n=e[i];(be(n)||C(n))&&!Object.isFrozen(n)&&D(n)}}),e}function et(e,t){return function(i,n){if(t.action(n)){let o=k(n);me(o,"action")}let r=e(i,n);if(t.state()){let o=k(r);me(o,"state")}return r}}function k(e,t=[]){return(he(e)||Re(e))&&t.length===0?{path:["root"],value:e}:Object.keys(e).reduce((n,r)=>{if(n)return n;let o=e[r];return He(o)?n:he(o)||Re(o)||Be(o)||Le(o)||qe(o)||Ie(o)?!1:Ze(o)?k(o,[...t,r]):{path:[...t,r],value:o}},!1)}function me(e,t){if(e===!1)return;let i=e.path.join("."),n=new Error(`Detected unserializable ${t} at "${i}". ${P}#strict${t}serializability`);throw n.value=e.value,n.unserializablePath=i,n}function tt(e,t){return function(i,n){if(t.action(n)&&!ee.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${P}#strictactionwithinngzone`);return e(i,n)}}function nt(e){return ie()?m({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function rt({strictActionSerializability:e,strictStateSerializability:t}){return i=>e||t?et(i,{action:n=>e&&!z(n),state:()=>t}):i}function it({strictActionImmutability:e,strictStateImmutability:t}){return i=>e||t?Xe(i,{action:n=>e&&!z(n),state:()=>t}):i}function z(e){return e.type.startsWith("@ngrx")}function ot({strictActionWithinNgZone:e}){return t=>e?tt(t,{action:i=>e&&!z(i)}):t}function st(e){return[{provide:le,useValue:e},{provide:fe,useFactory:ut,deps:[le]},{provide:E,deps:[fe],useFactory:nt},{provide:F,multi:!0,deps:[E],useFactory:it},{provide:F,multi:!0,deps:[E],useFactory:rt},{provide:F,multi:!0,deps:[E],useFactory:ot}]}function ct(){return[{provide:M,multi:!0,deps:[E],useFactory:at}]}function ut(e){return e}function at(e){if(!e.strictActionTypeUniqueness)return;let t=Object.entries(Te).filter(([,i])=>i>1).map(([i])=>i);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(i=>`"${i}"`).join(", ")}. ${P}#strictactiontypeuniqueness`)}function dt(e={},t={}){return[{provide:ve,useFactory:Je},{provide:se,useValue:t.initialState},{provide:U,useFactory:Ae,deps:[se]},{provide:x,useValue:e},{provide:ue,useExisting:e instanceof c?e:x},{provide:Se,deps:[x,[new J(ue)]],useFactory:Qe},{provide:ae,useValue:t.metaReducers?t.metaReducers:[]},{provide:de,deps:[F,ae],useFactory:We},{provide:ce,useValue:t.reducerFactory?t.reducerFactory:De},{provide:ge,deps:[ce,de],useFactory:Fe},xe,_e,Ne,ze,$e,st(t.runtimeChecks),ct()]}function ft(){u(R),u(v),u(_),u(N),u(ve,{optional:!0}),u(M,{optional:!0})}var lt=[{provide:O,useFactory:ft},w(()=>u(O))];function It(e,t){return W([...dt(e,t),lt])}function pt(){u(O);let e=u(Oe),t=u(Ce),i=u(b);u(M,{optional:!0});let n=e.map((r,o)=>{let y=t.shift()[o];return K(m({},r),{reducers:y,initialState:Ae(r.initialState)})});i.addFeatures(n)}var bt=[{provide:pe,useFactory:pt},w(()=>u(pe))];export{N as a,It as b};
